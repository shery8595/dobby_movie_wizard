<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dobby Movie Wizard — Professional Edition</title>
  <!-- Icons & Fonts -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* ==========================
       Theme variables & reset
       ========================== */
    :root{
      --bg-100: #071024;
      --bg-200: #0f172a;
      --surface: rgba(255,255,255,0.03);
      --glass: rgba(255,255,255,0.04);
      --muted: #9aa7c0;
      --accent: #7c5cff;
      --accent-2: #ff5e7a;
      --success: #10b981;
      --danger: #ef4444;
      --card-shadow: 0 8px 30px rgba(2,6,23,0.6);
      --glass-border: rgba(255,255,255,0.05);
      --radius: 14px;
      --gap: 16px;
      --transition: 300ms cubic-bezier(.2,.9,.3,1);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background: radial-gradient(1000px 600px at 10% 10%, rgba(124,92,255,0.08), transparent 8%),
                  radial-gradient(1000px 600px at 90% 90%, rgba(255,94,122,0.04), transparent 8%),
                  linear-gradient(180deg,var(--bg-100), var(--bg-200));
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:24px;
    }
    /* ==========================
       Layout
       ========================== */
    .container{max-width:1200px;margin:0 auto}
    header.topbar{
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:space-between;
      margin-bottom:20px;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .brand .logo{
      width:48px;height:48px;border-radius:10px;
      display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,var(--accent), #5b3bff);
      box-shadow:0 6px 20px rgba(92,60,255,0.18);
      font-size:20px;
    }
    .brand h1{font-size:18px;margin:0;letter-spacing:0.2px}
    .brand p{margin:0;font-size:12px;color:var(--muted)}
    .top-actions{display:flex;gap:12px;align-items:center}
    .search-input{
      display:flex;align-items:center;gap:8px;
      background:var(--glass);border:1px solid var(--glass-border);
      padding:10px 12px;border-radius:12px;min-width:320px;backdrop-filter:blur(6px);
      transition:all var(--transition);
    }
    .search-input input{
      background:transparent;border:0;color:inherit;outline:none;font-size:14px;width:260px;
    }
    .top-btn{
      background:transparent;border:1px solid var(--glass-border);padding:10px 12px;border-radius:10px;
      cursor:pointer;font-weight:600;display:inline-flex;gap:8px;align-items:center;transition:all var(--transition);
      color: #e6eef8;
    }
    .top-btn.primary{
      background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;color:white;box-shadow:0 8px 24px rgba(124,92,255,0.16);
    }
    .icon-btn{
      width:44px;height:44px;border-radius:10px;display:grid;place-items:center;background:var(--glass);border:1px solid var(--glass-border);
    }
    /* ==========================
       Main area
       ========================== */
    .main{
      display:grid;grid-template-columns: 1fr 420px;gap:24px;
      align-items:start;
    }
    @media (max-width:1000px){ .main{grid-template-columns:1fr} .right-col{order:2} }
    /* Wizard card */
    .wizard-card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: var(--radius); padding:22px; box-shadow:var(--card-shadow);
      border:1px solid var(--glass-border); overflow:hidden;
      position: relative;
    }
    .wizard-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(124,92,255,0.5), transparent);
    }
    .wizard-head{
      display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px;
    }
    .wizard-title{font-size:18px;font-weight:700}
    .wizard-sub{color:var(--muted);font-size:13px}
    /* progress */
    .progress-wrap{margin:14px 0}
    .progress-track{height:8px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden}
    .progress-bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent-2),var(--accent));transition:width 450ms ease}
    /* question flow */
    .question-stage{display:grid;gap:12px;align-items:start}
    .q-title{font-weight:600;font-size:16px}
    .q-desc{color:var(--muted);font-size:13px}
    .options-grid{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-top:8px;
    }
    .option{
      padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.02);cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:8px;
      transition:all var(--transition);text-align:center;
      position: relative;
      overflow: hidden;
    }
    .option::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(124,92,255,0.1), rgba(255,94,122,0.05));
      opacity: 0;
      transition: opacity var(--transition);
    }
    .option i{font-size:20px;color:var(--accent);position: relative;z-index: 1;}
    .option span{font-weight:600;font-size:13px;position: relative;z-index: 1;}
    .option:hover{transform:translateY(-6px);box-shadow:0 10px 30px rgba(2,6,23,0.6);border-color:rgba(124,92,255,0.14)}
    .option:hover::before {opacity: 1;}
    .option.selected{background:linear-gradient(90deg,rgba(124,92,255,0.14), rgba(255,94,122,0.06));border:1px solid rgba(124,92,255,0.18);color:#fff}
    .option.selected i{color:white}
    .option.selected::before {opacity: 1;}
    /* nav */
    .wizard-nav{display:flex;justify-content:space-between;align-items:center;margin-top:16px;gap:12px}
    .dots{display:flex;gap:8px}
    .dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.06)}
    .dot.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));transform:scale(1.2);box-shadow:0 6px 18px rgba(124,92,255,0.12)}
    /* right column: featured & watchlist */
    .right-col{display:flex;flex-direction:column;gap:16px}
    .card-title{display:flex;align-items:center;justify-content:space-between;gap:8px}
    .section{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:14px;border-radius:12px;border:1px solid var(--glass-border);
      position: relative;
    }
    .section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(124,92,255,0.3), transparent);
    }
    /* Enhanced trending section with scrolling animation */
    .trending-container {
      overflow: hidden;
      position: relative;
      transition: height var(--transition);
    }
    .trending-container.collapsed {
      height: 80px;
    }
    .trending-container.expanded {
      height: 220px;
    }
    .trending-compact {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      padding: 20px;
      background: rgba(255,255,255,0.02);
      border-radius: 8px;
      border: 1px solid var(--glass-border);
    }
    .compact-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      text-align: center;
      color: var(--muted);
    }
    .compact-content i {
      font-size: 24px;
      color: var(--accent);
      opacity: 0.7;
    }
    .compact-content span {
      font-size: 13px;
      line-height: 1.4;
      max-width: 200px;
    }
    .trending-scroll {
      display: flex;
      gap: 12px;
      animation: scrollTrending 40s linear infinite;
      width: max-content;
    }
    .trending-scroll:hover {
      animation-play-state: paused;
    }
    @keyframes scrollTrending {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
    .trending-item {
      min-width: 120px;
      max-width: 120px;
      display: flex;
      flex-direction: column;
      gap: 5px;
      transition: transform var(--transition);
      cursor: pointer;
      background: rgba(255,255,255,0.02);
      border-radius: 6px;
      padding: 5px;
      border: 1px solid var(--glass-border);
    }
    .trending-item:hover {
      transform: translateY(-3px);
      background: rgba(255,255,255,0.04);
      border-color: rgba(124,92,255,0.2);
      box-shadow: 0 6px 20px rgba(2,6,23,0.4);
    }
    .trending-item img {
      width: 100%;
      height: 110px;
      object-fit: cover;
      border-radius: 4px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.2);
    }
    .trending-info {
      text-align: left;
    }
    .trending-title {
      font-weight: 600;
      font-size: 10px;
      line-height: 1.2;
      margin-bottom: 3px;
      color: #e6eef8;
    }
    .trending-meta {
      font-size: 9px;
      color: var(--muted);
      margin-bottom: 4px;
    }
    .trending-summary {
      font-size: 8px;
      color: var(--muted);
      line-height: 1.3;
      margin-bottom: 6px;
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
    }
    .trending-actions {
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
      margin-top: 2px;
    }
    .trending-btn {
      padding: 2px 4px;
      border-radius: 3px;
      border: 1px solid var(--glass-border);
      background: transparent;
      color: var(--muted);
      font-size: 8px;
      font-weight: 500;
      cursor: pointer;
      transition: all var(--transition);
      display: inline-flex !important;
      align-items: center;
      gap: 2px;
      min-width: 40px;
      justify-content: center;
    }
    .trending-btn:hover {
      transform: translateY(-1px);
    }
    .trending-btn.watchlist {
      border-color: var(--accent);
      color: var(--accent);
    }
    .trending-btn.watchlist:hover {
      background: var(--accent);
      color: white;
    }
    .trending-btn.trailer {
      border-color: #ff6b6b !important;
      color: #ff6b6b !important;
      background: rgba(255,107,107,0.1) !important;
      display: inline-flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      position: relative !important;
      z-index: 10 !important;
    }
    .trending-btn.trailer:hover {
      background: #ff6b6b !important;
      color: white !important;
      box-shadow: 0 4px 12px rgba(255,107,107,0.3);
    }
    .trending-actions .trending-btn.trailer {
      display: inline-flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      position: relative !important;
      z-index: 10 !important;
    }
    .trending-buttons {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .trending-load-btn {
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 4px 15px rgba(124,92,255,0.2);
    }
    .trending-load-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(124,92,255,0.3);
    }
    .trending-load-btn:active {
      transform: translateY(0);
    }
    .trending-load-btn i {
      font-size: 11px;
    }
    .trending-collapse-btn {
      background: rgba(255,255,255,0.1);
      color: var(--muted);
      border: 1px solid var(--glass-border);
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 11px;
      font-weight: 500;
      cursor: pointer;
      transition: all var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .trending-collapse-btn:hover {
      background: rgba(255,255,255,0.15);
      color: #e6eef8;
      transform: translateY(-1px);
    }
    .trending-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    .fa-spinner {
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .featured-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .featured-item{
      display:flex;gap:10px;align-items:center;
      transition: transform var(--transition);
      cursor: pointer;
    }
    .featured-item:hover {
      transform: translateX(5px);
    }
    .featured-item img{width:64px;height:92px;object-fit:cover;border-radius:8px;box-shadow: 0 4px 12px rgba(0,0,0,0.2);}
    .featured-info{display:flex;flex-direction:column}
    .featured-title{font-weight:700;font-size:14px}
    .featured-meta{font-size:12px;color:var(--muted)}
    .results-section{margin-top:20px}
    .results-grid{
      display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;margin-top:12px;
    }
    .movie-card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:12px;overflow:hidden;border:1px solid var(--glass-border);transition:all var(--transition);
      display:flex;flex-direction:column;
      position: relative;
    }
    .movie-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(124,92,255,0.3), transparent);
    }
    .movie-poster{width:100%;height:320px;object-fit:cover;display:block;transition:transform var(--transition)}
    .movie-card:hover{transform:translateY(-10px);box-shadow:0 20px 60px rgba(2,6,23,0.7)}
    .movie-card:hover .movie-poster{transform:scale(1.04)}
    .movie-info{padding:12px;display:flex;flex-direction:column;gap:8px}
    .movie-title{font-weight:700;font-size:15px}
    .movie-meta{display:flex;justify-content:space-between;color:var(--muted);font-size:13px}
    .movie-desc{color:var(--muted);font-size:13px;line-height:1.3;height:56px;overflow:hidden}
    .movie-actions{display:flex;gap:8px;margin-top:auto}
    .btn{
      display:inline-flex;align-items:center;gap:8px;padding:10px;border-radius:10px;border:1px solid var(--glass-border);background:transparent;cursor:pointer;font-weight:600;
      transition: all var(--transition);
      color: #e6eef8;
    }
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:none;box-shadow:0 10px 30px rgba(124,92,255,0.12)}
    .btn.ghost{background:transparent;color:var(--muted)}
    .btn:hover {
      transform: translateY(-2px);
    }
    .movie-actions .btn.watchlist {
      border-color: var(--accent);
      color: var(--accent);
      background: transparent;
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 500;
      transition: all var(--transition);
    }
    .movie-actions .btn.watchlist:hover {
      background: var(--accent);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(124,92,255,0.3);
    }
    .movie-actions .btn.trailer {
      border-color: #ff6b6b;
      color: #ff6b6b;
      background: rgba(255,107,107,0.1);
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 500;
      transition: all var(--transition);
    }
    .movie-actions .btn.trailer:hover {
      background: #ff6b6b;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255,107,107,0.3);
    }
    .loading{display:grid;place-items:center;padding:30px}
    .spinner{width:56px;height:56px;border-radius:50%;border:6px solid rgba(255,255,255,0.06);border-top-color:var(--accent);animation:spin 1s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}
    .toast{
      position:fixed;right:20px;bottom:20px;background:linear-gradient(90deg,var(--success), #21c87a);padding:12px 16px;border-radius:10px;box-shadow:0 8px 30px rgba(2,6,23,0.4);display:flex;align-items:center;gap:10px;transform:translateY(10px);opacity:0;transition:all var(--transition);
      z-index: 1000;
    }
    .toast.show{opacity:1;transform:translateY(0)}
    .watchlist-panel{display:grid;gap:10px}
    .watchlist-grid{display:grid;grid-template-columns:1fr;gap:10px}
    .empty{padding:18px;border-radius:10px;background:rgba(255,255,255,0.02);color:var(--muted);text-align:center}
    .header-decoration {
      position: absolute;
      top: 0;
      right: 0;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle, rgba(124,92,255,0.1) 0%, transparent 70%);
      pointer-events: none;
      z-index: -1;
    }
    .footer {
      margin-top: 40px;
      text-align: center;
      color: var(--muted);
      font-size: 12px;
      padding: 20px;
      border-top: 1px solid var(--glass-border);
    }
    .tooltip {
      position: relative;
    }
    .tooltip:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      padding: 6px 10px;
      background: var(--bg-200);
      border: 1px solid var(--glass-border);
      border-radius: 6px;
      font-size: 12px;
      white-space: nowrap;
      z-index: 100;
    }
    @media (max-width:720px){
      .search-input{min-width:unset;width:100%}
      .main{grid-template-columns:1fr}
      .featured-grid{grid-template-columns:repeat(3,1fr)}
      .movie-poster{height:260px}
      .trending-container {
        height: 240px;
      }
      .trending-item {
        min-width: 140px;
        padding: 6px;
      }
      .trending-item img {
        height: 140px;
      }
      .trending-title {
        font-size: 11px;
      }
      .trending-summary {
        -webkit-line-clamp: 2;
        font-size: 9px;
      }
      .trending-actions {
        gap: 4px;
      }
      .trending-btn {
        padding: 3px 6px;
        font-size: 9px;
        min-width: 45px;
      }
    }
  </style>
</head>
<body>
  <div class="header-decoration"></div>
  <div class="container">
    <header class="topbar" role="banner">
      <div class="brand">
        <div class="logo"><i class="fas fa-hat-wizard"></i></div>
        <div>
          <h1>Dobby Movie Wizard</h1>
          <p>AI-powered movie recommendations</p>
        </div>
      </div>
      <div class="top-actions" role="region" aria-label="Search and actions">
        <div class="search-input" id="search-wrap">
          <i class="fas fa-search" style="opacity:.8"></i>
          <input id="search-box" placeholder="Search movies (press Enter) — e.g. Inception" aria-label="Search movies">
          <button class="top-btn" id="search-btn" title="Search">Search</button>
        </div>
        <button class="top-btn primary" id="quick-recommend" data-tooltip="Get instant recommendations">
          <i class="fas fa-magic"></i> Quick Recommend
        </button>
      </div>
    </header>
    <main class="main" role="main" aria-live="polite">
      <div>
        <div class="wizard-card" id="wizard-container" aria-labelledby="wizard-title">
          <div class="wizard-head">
            <div>
              <div class="wizard-title" id="wizard-title">Tell me about your movie night</div>
              <div class="wizard-sub">Quick questions → tailored picks</div>
            </div>
            <div style="text-align:right">
              <div style="font-size:12px;color:var(--muted)">Powered by Dobby • TMDB</div>
            </div>
          </div>
          <div class="progress-wrap">
            <div class="progress-track"><div class="progress-bar" id="progress"></div></div>
          </div>
          <div id="questions-area" class="question-stage">
            <section class="question-slide" data-q="1">
              <div class="q-title">What's the occasion?</div>
              <div class="q-desc">Pick the setting for your movie night</div>
              <div class="options-grid">
                <div class="option" data-value="date"><i class="fas fa-heart"></i><span>Date Night</span></div>
                <div class="option" data-value="family"><i class="fas fa-home"></i><span>Family</span></div>
                <div class="option" data-value="solo"><i class="fas fa-user"></i><span>Solo</span></div>
                <div class="option" data-value="party"><i class="fas fa-glass-cheers"></i><span>Party</span></div>
              </div>
            </section>
            <section class="question-slide" data-q="2" style="display:none">
              <div class="q-title">How are you feeling?</div>
              <div class="q-desc">Your current mood</div>
              <div class="options-grid">
                <div class="option" data-value="happy"><i class="fas fa-smile"></i><span>Happy</span></div>
                <div class="option" data-value="sad"><i class="fas fa-sad-tear"></i><span>Sad</span></div>
                <div class="option" data-value="excited"><i class="fas fa-star"></i><span>Excited</span></div>
                <div class="option" data-value="nostalgic"><i class="fas fa-clock"></i><span>Nostalgic</span></div>
              </div>
            </section>
            <section class="question-slide" data-q="3" style="display:none">
              <div class="q-title">What genre do you want?</div>
              <div class="q-desc">Choose a primary genre</div>
              <div class="options-grid">
                <div class="option" data-value="action"><i class="fas fa-fist-raised"></i><span>Action</span></div>
                <div class="option" data-value="comedy"><i class="fas fa-laugh"></i><span>Comedy</span></div>
                <div class="option" data-value="drama"><i class="fas fa-theater-masks"></i><span>Drama</span></div>
                <div class="option" data-value="sci-fi"><i class="fas fa-rocket"></i><span>Sci-Fi</span></div>
                <div class="option" data-value="horror"><i class="fas fa-ghost"></i><span>Horror</span></div>
                <div class="option" data-value="romance"><i class="fas fa-heart"></i><span>Romance</span></div>
              </div>
            </section>
            <section class="question-slide" data-q="4" style="display:none">
              <div class="q-title">How old should the movie be?</div>
              <div class="q-desc">Era preference</div>
              <div class="options-grid">
                <div class="option" data-value="new"><i class="fas fa-calendar-alt"></i><span>New Releases</span></div>
                <div class="option" data-value="recent"><i class="fas fa-history"></i><span>Last 5 Years</span></div>
                <div class="option" data-value="classic"><i class="fas fa-film"></i><span>Classics</span></div>
                <div class="option" data-value="any"><i class="fas fa-infinity"></i><span>Any Era</span></div>
              </div>
            </section>
            <section class="question-slide" data-q="5" style="display:none">
              <div class="q-title">Who's watching?</div>
              <div class="q-desc">Audience</div>
              <div class="options-grid">
                <div class="option" data-value="kids"><i class="fas fa-child"></i><span>Kids</span></div>
                <div class="option" data-value="teens"><i class="fas fa-users"></i><span>Teens</span></div>
                <div class="option" data-value="adults"><i class="fas fa-user-friends"></i><span>Adults</span></div>
                <div class="option" data-value="all"><i class="fas fa-globe"></i><span>All Ages</span></div>
                <div class="option" data-value="couples"><i class="fas fa-heart"></i><span>Couples</span></div>
              </div>
            </section>
          </div>
          <div class="wizard-nav">
            <div style="display:flex;gap:8px">
              <button class="top-btn" id="prev-btn" disabled><i class="fas fa-arrow-left"></i> Prev</button>
              <button class="top-btn" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
            </div>
            <div style="display:flex;gap:12px;align-items:center">
              <div class="dots" id="dots-wrap">
                <div class="dot active" data-q="1"></div>
                <div class="dot" data-q="2"></div>
                <div class="dot" data-q="3"></div>
                <div class="dot" data-q="4"></div>
                <div class="dot" data-q="5"></div>
              </div>
              <button class="top-btn primary" id="submit-btn" style="display:none"><i class="fas fa-ticket-alt"></i> Get Recommendations</button>
            </div>
          </div>
        </div>
        <div id="loading" class="loading" style="display:none">
          <div style="text-align:center">
            <div class="spinner"></div>
            <div style="margin-top:12px;color:var(--muted)">Dobby is conjuring great picks...</div>
          </div>
        </div>
        <div id="results" class="results-section" style="display:none">
          <div style="display:flex;align-items:center;justify-content:space-between">
            <div style="display:flex;flex-direction:column">
              <h2 style="margin:0">Your Personalized Movie Recommendations</h2>
              <div style="color:var(--muted);font-size:13px">Hand-picked just for your mood & occasion</div>
            </div>
            <div style="display:flex;gap:8px">
              <button class="top-btn" id="back-to-wizard"><i class="fas fa-arrow-left"></i> Edit Preferences</button>
              <button class="top-btn" id="restart-btn"><i class="fas fa-redo"></i> Start Over</button>
            </div>
          </div>
          <div class="results-grid" id="results-grid"></div>
        </div>
      </div>
      <aside class="right-col">
        <div class="section">
          <div class="card-title">
            <strong>Trending Now</strong>
            <div class="trending-buttons">
              <button class="trending-load-btn" onclick="loadTrendingMovies()">
                <i class="fas fa-play"></i>
                Load Trending Movies
              </button>
              <button class="trending-collapse-btn" onclick="collapseTrendingMovies()" style="display: none;">
                <i class="fas fa-compress"></i>
                Collapse
              </button>
            </div>
          </div>
          <div class="trending-container collapsed" id="trending-container">
            <div class="trending-compact" id="trending-compact">
              <div class="compact-content">
                <i class="fas fa-film"></i>
                <span>Click "Load Trending Movies" to see what's popular</span>
              </div>
            </div>
            <div class="trending-scroll" id="trending-scroll" style="display: none;"></div>
          </div>
        </div>
        <div class="section watchlist-panel" id="watchlist-panel">
          <div class="card-title">
            <strong>Your Watchlist</strong>
            <div style="display:flex;gap:8px">
              <button class="top-btn ghost" id="clear-watchlist">Clear</button>
              <button class="top-btn ghost" id="open-watchlist">Open</button>
            </div>
          </div>
          <div class="watchlist-grid" id="watchlist-grid-preview"></div>
          <div class="empty" id="empty-watchlist-preview" style="display:none">Your watchlist is empty — add movies to see them here.</div>
        </div>
      </aside>
    </main>
    <div class="footer">
      <p>Dobby Movie Wizard &copy; 2023 • AI-Powered Movie Recommendations</p>
    </div>
  </div>
  <div class="toast" id="toast" role="status" aria-live="polite"><i class="fas fa-check-circle"></i><div id="toast-text">Added</div></div>
  <script type="module" src="/src/main.js"></script>
</body>
</html>
